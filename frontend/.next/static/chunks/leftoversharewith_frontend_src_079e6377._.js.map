{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/user/leftoversharewith/frontend/src/lib/api.ts"],"sourcesContent":["import axios from 'axios';\r\n\r\nconst API_BASE_URL = process.env.NEXT_PUBLIC_API_URL || 'http://localhost:5000/api';\r\n\r\n// Create axios instance\r\nconst api = axios.create({\r\n  baseURL: API_BASE_URL,\r\n  headers: {\r\n    'Content-Type': 'application/json',\r\n  },\r\n});\r\n\r\n// Request interceptor to add auth token\r\napi.interceptors.request.use(\r\n  (config) => {\r\n    const token = localStorage.getItem('token');\r\n    if (token) {\r\n      config.headers.Authorization = `Bearer ${token}`;\r\n    }\r\n    return config;\r\n  },\r\n  (error) => {\r\n    return Promise.reject(error);\r\n  }\r\n);\r\n\r\n// Response interceptor to handle auth errors\r\napi.interceptors.response.use(\r\n  (response) => response,\r\n  (error) => {\r\n    if (error.response?.status === 401) {\r\n      // Token is invalid or expired\r\n      localStorage.removeItem('token');\r\n      localStorage.removeItem('user');\r\n      window.location.href = '/auth/login';\r\n    }\r\n    return Promise.reject(error);\r\n  }\r\n);\r\n\r\nexport default api;"],"names":[],"mappings":";;;;AAEqB;AAFrB;;AAEA,MAAM,eAAe,iEAAmC;AAExD,wBAAwB;AACxB,MAAM,MAAM,wKAAK,CAAC,MAAM,CAAC;IACvB,SAAS;IACT,SAAS;QACP,gBAAgB;IAClB;AACF;AAEA,wCAAwC;AACxC,IAAI,YAAY,CAAC,OAAO,CAAC,GAAG,CAC1B,CAAC;IACC,MAAM,QAAQ,aAAa,OAAO,CAAC;IACnC,IAAI,OAAO;QACT,OAAO,OAAO,CAAC,aAAa,GAAG,AAAC,UAAe,OAAN;IAC3C;IACA,OAAO;AACT,GACA,CAAC;IACC,OAAO,QAAQ,MAAM,CAAC;AACxB;AAGF,6CAA6C;AAC7C,IAAI,YAAY,CAAC,QAAQ,CAAC,GAAG,CAC3B,CAAC,WAAa,UACd,CAAC;QACK;IAAJ,IAAI,EAAA,kBAAA,MAAM,QAAQ,cAAd,sCAAA,gBAAgB,MAAM,MAAK,KAAK;QAClC,8BAA8B;QAC9B,aAAa,UAAU,CAAC;QACxB,aAAa,UAAU,CAAC;QACxB,OAAO,QAAQ,CAAC,IAAI,GAAG;IACzB;IACA,OAAO,QAAQ,MAAM,CAAC;AACxB;uCAGa","debugId":null}},
    {"offset": {"line": 48, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/user/leftoversharewith/frontend/src/context/AuthContext.tsx"],"sourcesContent":["'use client';\n\nimport React, { createContext, useContext, useState, useEffect, ReactNode } from 'react';\nimport { User, AuthResponse, LoginFormData, RegisterFormData } from '@shared/types';\nimport api from '@/lib/api';\n\ninterface AuthContextType {\n  user: User | null;\n  isLoading: boolean;\n  login: (data: LoginFormData) => Promise<User>;\n  register: (data: RegisterFormData) => Promise<void>;\n  logout: () => void;\n  isAuthenticated: boolean;\n}\n\nconst AuthContext = createContext<AuthContextType | undefined>(undefined);\n\ninterface AuthProviderProps {\n  children: ReactNode;\n}\n\nexport const AuthProvider: React.FC<AuthProviderProps> = ({ children }) => {\n  const [user, setUser] = useState<User | null>(null);\n  const [isLoading, setIsLoading] = useState(true);\n\n  useEffect(() => {\n    // Check if user is logged in on mount\n    const token = localStorage.getItem('token');\n    const userData = localStorage.getItem('user');\n    \n    if (token && userData) {\n      try {\n        const parsedUser = JSON.parse(userData);\n        setUser(parsedUser);\n      } catch (error) {\n        console.error('Error parsing user data:', error);\n        localStorage.removeItem('token');\n        localStorage.removeItem('user');\n      }\n    }\n    \n    setIsLoading(false);\n  }, []);\n\n  const login = async (data: LoginFormData): Promise<User> => {\n    try {\n      const response = await api.post<AuthResponse>('/auth/login', data);\n      const { token, user } = response.data;\n      \n      localStorage.setItem('token', token);\n      localStorage.setItem('user', JSON.stringify(user));\n      setUser(user);\n      return user;\n    } catch (error: unknown) {\n      let message = 'Login failed';\n      if (typeof error === 'object' && error && 'response' in error) {\n        const resp = (error as any).response; // eslint-disable-line @typescript-eslint/no-explicit-any\n        message = resp?.data?.message || message;\n      }\n      throw new Error(message);\n    }\n  };\n\n  const register = async (data: RegisterFormData) => {\n    try {\n      const response = await api.post<AuthResponse>('/auth/register', data);\n      const { token, user } = response.data;\n      \n      localStorage.setItem('token', token);\n      localStorage.setItem('user', JSON.stringify(user));\n      setUser(user);\n    } catch (error: unknown) {\n      let message = 'Registration failed';\n      if (typeof error === 'object' && error && 'response' in error) {\n        const resp = (error as any).response; // eslint-disable-line @typescript-eslint/no-explicit-any\n        message = resp?.data?.message || message;\n      }\n      throw new Error(message);\n    }\n  };\n\n  const logout = () => {\n    localStorage.removeItem('token');\n    localStorage.removeItem('user');\n    setUser(null);\n  };\n\n  const value: AuthContextType = {\n    user,\n    isLoading,\n    login,\n    register,\n    logout,\n    isAuthenticated: !!user,\n  };\n\n  return (\n    <AuthContext.Provider value={value}>\n      {children}\n    </AuthContext.Provider>\n  );\n};\n\nexport const useAuth = () => {\n  const context = useContext(AuthContext);\n  if (context === undefined) {\n    throw new Error('useAuth must be used within an AuthProvider');\n  }\n  return context;\n};"],"names":[],"mappings":";;;;;;;AAEA;AAEA;;;AAJA;;;AAeA,MAAM,4BAAc,IAAA,mMAAa,EAA8B;AAMxD,MAAM,eAA4C;QAAC,EAAE,QAAQ,EAAE;;IACpE,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,8LAAQ,EAAc;IAC9C,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,8LAAQ,EAAC;IAE3C,IAAA,+LAAS;kCAAC;YACR,sCAAsC;YACtC,MAAM,QAAQ,aAAa,OAAO,CAAC;YACnC,MAAM,WAAW,aAAa,OAAO,CAAC;YAEtC,IAAI,SAAS,UAAU;gBACrB,IAAI;oBACF,MAAM,aAAa,KAAK,KAAK,CAAC;oBAC9B,QAAQ;gBACV,EAAE,OAAO,OAAO;oBACd,QAAQ,KAAK,CAAC,4BAA4B;oBAC1C,aAAa,UAAU,CAAC;oBACxB,aAAa,UAAU,CAAC;gBAC1B;YACF;YAEA,aAAa;QACf;iCAAG,EAAE;IAEL,MAAM,QAAQ,OAAO;QACnB,IAAI;YACF,MAAM,WAAW,MAAM,gKAAG,CAAC,IAAI,CAAe,eAAe;YAC7D,MAAM,EAAE,KAAK,EAAE,IAAI,EAAE,GAAG,SAAS,IAAI;YAErC,aAAa,OAAO,CAAC,SAAS;YAC9B,aAAa,OAAO,CAAC,QAAQ,KAAK,SAAS,CAAC;YAC5C,QAAQ;YACR,OAAO;QACT,EAAE,OAAO,OAAgB;YACvB,IAAI,UAAU;YACd,IAAI,OAAO,UAAU,YAAY,SAAS,cAAc,OAAO;oBAEnD;gBADV,MAAM,OAAO,AAAC,MAAc,QAAQ,EAAE,yDAAyD;gBAC/F,UAAU,CAAA,iBAAA,4BAAA,aAAA,KAAM,IAAI,cAAV,iCAAA,WAAY,OAAO,KAAI;YACnC;YACA,MAAM,IAAI,MAAM;QAClB;IACF;IAEA,MAAM,WAAW,OAAO;QACtB,IAAI;YACF,MAAM,WAAW,MAAM,gKAAG,CAAC,IAAI,CAAe,kBAAkB;YAChE,MAAM,EAAE,KAAK,EAAE,IAAI,EAAE,GAAG,SAAS,IAAI;YAErC,aAAa,OAAO,CAAC,SAAS;YAC9B,aAAa,OAAO,CAAC,QAAQ,KAAK,SAAS,CAAC;YAC5C,QAAQ;QACV,EAAE,OAAO,OAAgB;YACvB,IAAI,UAAU;YACd,IAAI,OAAO,UAAU,YAAY,SAAS,cAAc,OAAO;oBAEnD;gBADV,MAAM,OAAO,AAAC,MAAc,QAAQ,EAAE,yDAAyD;gBAC/F,UAAU,CAAA,iBAAA,4BAAA,aAAA,KAAM,IAAI,cAAV,iCAAA,WAAY,OAAO,KAAI;YACnC;YACA,MAAM,IAAI,MAAM;QAClB;IACF;IAEA,MAAM,SAAS;QACb,aAAa,UAAU,CAAC;QACxB,aAAa,UAAU,CAAC;QACxB,QAAQ;IACV;IAEA,MAAM,QAAyB;QAC7B;QACA;QACA;QACA;QACA;QACA,iBAAiB,CAAC,CAAC;IACrB;IAEA,qBACE,kNAAC,YAAY,QAAQ;QAAC,OAAO;kBAC1B;;;;;;AAGP;GAhFa;KAAA;AAkFN,MAAM,UAAU;;IACrB,MAAM,UAAU,IAAA,gMAAU,EAAC;IAC3B,IAAI,YAAY,WAAW;QACzB,MAAM,IAAI,MAAM;IAClB;IACA,OAAO;AACT;IANa","debugId":null}},
    {"offset": {"line": 163, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/user/leftoversharewith/frontend/src/components/layout/Header.tsx"],"sourcesContent":["'use client';\n\nimport React from 'react';\nimport Link from 'next/link';\nimport { useAuth } from '@/context/AuthContext';\nimport { LogOut, User, Building, Heart } from 'lucide-react';\n\nconst Header: React.FC = () => {\n  const { user, logout, isAuthenticated } = useAuth();\n\n  return (\n    <header className=\"bg-white border-b border-gray-200 shadow-sm\">\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\n        <div className=\"flex justify-between items-center h-16\">\n          {/* Logo */}\n          <Link href=\"/\" className=\"flex items-center space-x-2\">\n            <Heart className=\"h-8 w-8 text-green-600\" />\n            <span className=\"text-xl font-bold text-gray-900\">LeftoverShareWith</span>\n          </Link>\n\n          {/* Navigation */}\n          <nav className=\"hidden md:flex items-center space-x-8\">\n            {isAuthenticated ? (\n              <>\n                {user?.userType === 'hotel' && (\n                  <>\n                    <Link\n                      href=\"/hotel/dashboard\"\n                      className=\"text-gray-700 hover:text-green-600 px-3 py-2 rounded-md text-sm font-medium\"\n                    >\n                      Dashboard\n                    </Link>\n                    <Link\n                      href=\"/hotel/listings\"\n                      className=\"text-gray-700 hover:text-green-600 px-3 py-2 rounded-md text-sm font-medium\"\n                    >\n                      My Listings\n                    </Link>\n                    <Link\n                      href=\"/hotel/requests\"\n                      className=\"text-gray-700 hover:text-green-600 px-3 py-2 rounded-md text-sm font-medium\"\n                    >\n                      Requests\n                    </Link>\n                  </>\n                )}\n                {user?.userType === 'ngo' && (\n                  <>\n                    <Link\n                      href=\"/ngo/listings\"\n                      className=\"text-gray-700 hover:text-green-600 px-3 py-2 rounded-md text-sm font-medium\"\n                    >\n                      Available Food\n                    </Link>\n                    <Link\n                      href=\"/ngo/claimed\"\n                      className=\"text-gray-700 hover:text-green-600 px-3 py-2 rounded-md text-sm font-medium\"\n                    >\n                      Claimed Items\n                    </Link>\n                    <Link\n                      href=\"/ngo/requests\"\n                      className=\"text-gray-700 hover:text-green-600 px-3 py-2 rounded-md text-sm font-medium\"\n                    >\n                      My Requests\n                    </Link>\n                    <Link\n                      href=\"/ngo/hotels/nearby\"\n                      className=\"text-gray-700 hover:text-green-600 px-3 py-2 rounded-md text-sm font-medium\"\n                    >\n                      Nearby Hotels\n                    </Link>\n                  </>\n                )}\n              </>\n            ) : (\n              <>\n                <Link\n                  href=\"/auth/login\"\n                  className=\"text-gray-700 hover:text-green-600 px-3 py-2 rounded-md text-sm font-medium\"\n                >\n                  Login\n                </Link>\n                <Link\n                  href=\"/auth/register\"\n                  className=\"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-md text-sm font-medium\"\n                >\n                  Register\n                </Link>\n              </>\n            )}\n          </nav>\n\n          {/* User Menu */}\n          {isAuthenticated && (\n            <div className=\"flex items-center space-x-4\">\n              <div className=\"flex items-center space-x-2\">\n                {user?.userType === 'hotel' ? (\n                  <Building className=\"h-5 w-5 text-gray-500\" />\n                ) : (\n                  <User className=\"h-5 w-5 text-gray-500\" />\n                )}\n                <span className=\"text-sm text-gray-700\">\n                  {user?.organizationName}\n                </span>\n              </div>\n              <button\n                onClick={logout}\n                className=\"flex items-center space-x-1 text-gray-700 hover:text-red-600 px-3 py-2 rounded-md text-sm font-medium\"\n              >\n                <LogOut className=\"h-4 w-4\" />\n                <span>Logout</span>\n              </button>\n            </div>\n          )}\n\n          {/* Mobile menu button */}\n          <div className=\"md:hidden\">\n            {/* TODO: Add mobile menu */}\n          </div>\n        </div>\n      </div>\n    </header>\n  );\n};\n\nexport default Header;"],"names":[],"mappings":";;;;;AAGA;AACA;AACA;AAAA;AAAA;AAAA;;;AALA;;;;AAOA,MAAM,SAAmB;;IACvB,MAAM,EAAE,IAAI,EAAE,MAAM,EAAE,eAAe,EAAE,GAAG,IAAA,6KAAO;IAEjD,qBACE,kNAAC;QAAO,WAAU;kBAChB,cAAA,kNAAC;YAAI,WAAU;sBACb,cAAA,kNAAC;gBAAI,WAAU;;kCAEb,kNAAC,+LAAI;wBAAC,MAAK;wBAAI,WAAU;;0CACvB,kNAAC,qOAAK;gCAAC,WAAU;;;;;;0CACjB,kNAAC;gCAAK,WAAU;0CAAkC;;;;;;;;;;;;kCAIpD,kNAAC;wBAAI,WAAU;kCACZ,gCACC;;gCACG,CAAA,iBAAA,2BAAA,KAAM,QAAQ,MAAK,yBAClB;;sDACE,kNAAC,+LAAI;4CACH,MAAK;4CACL,WAAU;sDACX;;;;;;sDAGD,kNAAC,+LAAI;4CACH,MAAK;4CACL,WAAU;sDACX;;;;;;sDAGD,kNAAC,+LAAI;4CACH,MAAK;4CACL,WAAU;sDACX;;;;;;;;gCAKJ,CAAA,iBAAA,2BAAA,KAAM,QAAQ,MAAK,uBAClB;;sDACE,kNAAC,+LAAI;4CACH,MAAK;4CACL,WAAU;sDACX;;;;;;sDAGD,kNAAC,+LAAI;4CACH,MAAK;4CACL,WAAU;sDACX;;;;;;sDAGD,kNAAC,+LAAI;4CACH,MAAK;4CACL,WAAU;sDACX;;;;;;sDAGD,kNAAC,+LAAI;4CACH,MAAK;4CACL,WAAU;sDACX;;;;;;;;;yDAOP;;8CACE,kNAAC,+LAAI;oCACH,MAAK;oCACL,WAAU;8CACX;;;;;;8CAGD,kNAAC,+LAAI;oCACH,MAAK;oCACL,WAAU;8CACX;;;;;;;;;;;;;oBAQN,iCACC,kNAAC;wBAAI,WAAU;;0CACb,kNAAC;gCAAI,WAAU;;oCACZ,CAAA,iBAAA,2BAAA,KAAM,QAAQ,MAAK,wBAClB,kNAAC,8OAAQ;wCAAC,WAAU;;;;;iGAEpB,kNAAC,kOAAI;wCAAC,WAAU;;;;;;kDAElB,kNAAC;wCAAK,WAAU;kDACb,iBAAA,2BAAA,KAAM,gBAAgB;;;;;;;;;;;;0CAG3B,kNAAC;gCACC,SAAS;gCACT,WAAU;;kDAEV,kNAAC,4OAAM;wCAAC,WAAU;;;;;;kDAClB,kNAAC;kDAAK;;;;;;;;;;;;;;;;;;kCAMZ,kNAAC;wBAAI,WAAU;;;;;;;;;;;;;;;;;;;;;;AAOzB;GArHM;;QACsC,6KAAO;;;KAD7C;uCAuHS","debugId":null}}]
}